(this["webpackJsonpreactjs-landing-page"]=this["webpackJsonpreactjs-landing-page"]||[]).push([[0],{71:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),r=n.n(c),s=n(25),i=n.n(s),o=(n(71),n(12)),l=n(11),u=function(){return Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("div",{children:Object(a.jsx)(o.b,{className:"links",to:"/",children:"Home"})}),Object(a.jsx)("nav",{className:"navbar",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)(o.b,{className:"links",to:"/login",children:"Login"}),Object(a.jsx)(o.b,{className:"links",to:"/signup",children:"Sign Up"})]})})]})},j=function(){return Object(a.jsx)("section",{className:"showcase",children:Object(a.jsxs)("div",{className:"showcase-overlay",children:[Object(a.jsx)("h1",{children:"Travel Agency"}),Object(a.jsx)("p",{children:"Get to tour the world in style. Select a destination, book your flight, and off you go!"})]})})},d=n.p+"static/media/image-1.f5d00502.jpg",h=n.p+"static/media/image-2.24737d05.jpg",b=n.p+"static/media/image-3.ca8941f9.jpg",m=function(){return Object(a.jsxs)("section",{className:"destinations",children:[Object(a.jsx)("h3",{children:"Now available in Canada"}),Object(a.jsxs)("div",{className:"grid",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:d,alt:"destination-1"}),Object(a.jsx)("h3",{children:"Fly to Aruba"}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, ab nesciunt? Molestias rem qui sequi!"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:h,alt:"destination-2"}),Object(a.jsx)("h3",{children:"Experience Mombasa"}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, ab nesciunt? Molestias rem qui sequi!"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:b,alt:"destination-3"}),Object(a.jsx)("h3",{children:"Savour Hawaii"}),Object(a.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, ab nesciunt? Molestias rem qui sequi!"})]})]})]})},p=n(4),O=n(42),f=function(){var e=r.a.useState(""),t=Object(p.a)(e,2),n=t[0],c=t[1],s=r.a.useState(""),i=Object(p.a)(s,2),o=i[0],l=i[1],u=Object(O.useHistory)();return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("section",{className:"showcase login",children:Object(a.jsx)("div",{className:"showcase-overlay",children:Object(a.jsxs)("form",{className:"form-controls",children:[Object(a.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Your email address",onChange:function(e){return c(e.target.value)},required:!0}),Object(a.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",required:!0,onChange:function(e){return l(e.target.value)}}),Object(a.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),fetch("https://travel-package-management.herokuapp.com/users/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:n,password:o})}).then((function(e){return e.json()})).then((function(e){u.push("/home",e)})).catch((function(e){return console.log(e)})),console.log("form submitted")},children:"Log In"})]})})})})},g=n(30),x=function(){var e=r.a.useState(""),t=Object(p.a)(e,2),n=t[0],s=t[1],i=r.a.useState(""),o=Object(p.a)(i,2),u=o[0],j=o[1],d=r.a.useState(""),h=Object(p.a)(d,2),b=h[0],m=h[1],O=r.a.useState(""),f=Object(p.a)(O,2),x=f[0],v=f[1],y=r.a.useState(""),k=Object(p.a)(y,2),N=k[0],C=k[1],S=r.a.useState(""),F=Object(p.a)(S,2),E=F[0],T=F[1],D=Object(l.useHistory)(),w=Object(c.useState)("USER"),B=Object(p.a)(w,2),I=B[0],P=B[1];function H(e){var t=e.selectedValue,n=e.setSelectedValue;return Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsxs)(g.a,{onSelect:function(e,t){n(e)},className:"m-2",style:{width:"100%"},children:[Object(a.jsx)(g.a.Toggle,{variant:"primary",id:"dropdown-basic",style:{width:"100%"},children:t}),Object(a.jsxs)(g.a.Menu,{children:[Object(a.jsx)(g.a.Item,{eventKey:"USER",children:"USER"},"0"),Object(a.jsx)(g.a.Item,{eventKey:"AGENT",children:"AGENT"},"1")]})]})})}return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("section",{className:"showcase login",children:Object(a.jsx)("div",{className:"showcase-overlay",children:Object(a.jsxs)("form",{className:"form-controls",children:[Object(a.jsx)("input",{type:"text",name:"firstname",id:"firstname",placeholder:"First Name",onChange:function(e){return s(e.target.value)},required:!0}),Object(a.jsx)("input",{type:"text",name:"lastname",id:"lastname",placeholder:"Last Name",onChange:function(e){return j(e.target.value)},required:!0}),Object(a.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Your email address",onChange:function(e){return m(e.target.value)},required:!0}),Object(a.jsx)("input",{type:"date",name:"dob",id:"dob",placeholder:"Date of Birth",onChange:function(e){return v(e.target.value)},required:!0}),Object(a.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Choose your password",onChange:function(e){return C(e.target.value)},required:!0}),Object(a.jsx)("input",{type:"password",name:"password2",id:"password2",placeholder:"Confirm your password",onChange:function(e){return T(e.target.value)},required:!0}),Object(a.jsx)(H,{selectedValue:I,setSelectedValue:P}),Object(a.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),N===E&&(fetch("https://travel-package-management.herokuapp.com/users",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({firstName:n,lastName:u,email:b,dateOfBirth:x,password:N,type:I})}).then((function(e){return e.json()})).then((function(e){D.push("/login",e)})).catch((function(e){return console.log(e)})),console.log("form submitted"))},children:"Create Your Account"})]})})})})},v=function(){return Object(a.jsx)("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)("h1",{children:"Looks like the page you were looking for does not exist"})})},y=n(31),k=n(3),N=n(81),C=n(20),S=n(10);var F=function(e){var t=r.a.useState(e.travel?e.travel.name:""),n=Object(p.a)(t,2),c=n[0],s=n[1],i=r.a.useState(e.travel?e.travel.hotelName:""),o=Object(p.a)(i,2),l=o[0],u=o[1],j=r.a.useState(e.travel?e.travel.numberOfDays:""),d=Object(p.a)(j,2),h=d[0],b=d[1],m=r.a.useState(e.travel?e.travel.numberOfNights:""),O=Object(p.a)(m,2),f=O[0],g=O[1],x=r.a.useState(e.travel?e.travel.destinationCity:""),v=Object(p.a)(x,2),y=v[0],F=v[1],E=r.a.useState(e.travel?e.travel.destinationCountry:""),T=Object(p.a)(E,2),D=T[0],w=T[1],B=r.a.useState(e.travel?e.travel.price:""),I=Object(p.a)(B,2),P=I[0],H=I[1];return Object(a.jsxs)(S.a,Object(k.a)(Object(k.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(S.a.Header,{closeButton:!0,children:Object(a.jsx)(S.a.Title,{id:"contained-modal-title-vcenter",children:e.isUpdate?"Update Travel Package":"Create New Travel Package"})}),Object(a.jsx)(S.a.Body,{children:Object(a.jsxs)(N.a,{children:[Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"text",placeholder:c||"Enter package",onChange:function(e){return s(e.target.value)},value:c})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"text",placeholder:l||"Enter Hotel",onChange:function(e){return u(e.target.value)},value:l})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"number",placeholder:h||"Enter number of days",onChange:function(e){return b(e.target.value)},value:h,min:"0"})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"number",placeholder:f||"Enter number of nights",onChange:function(e){return g(e.target.value)},value:f,min:"0"})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"text",placeholder:y||"Enter city",onChange:function(e){return F(e.target.value)},value:y})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"text",placeholder:D||"Enter country",onChange:function(e){return w(e.target.value)},value:D})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"number",placeholder:P||"Enter price",onChange:function(e){return H(e.target.value)},value:P,min:"0"})})]})}),Object(a.jsxs)(S.a.Footer,{children:[Object(a.jsx)(C.a,{variant:"secondary",onClick:e.onhide,children:"Close"}),Object(a.jsx)(C.a,{variant:"primary",onClick:e.isUpdate?function(t){t.preventDefault(),fetch("https://travel-package-management.herokuapp.com/packages",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({name:c,hotelName:l,numberOfDays:h,numberOfNights:f,destinationCity:y,destinationCountry:D,price:P,id:e.travel.id})}).then((function(e){return e.json()})).then((function(t){e.handleUpdatePackage(t),e.onHide()})).catch((function(e){return console.log(e)}))}:function(t){t.preventDefault(),fetch("https://travel-package-management.herokuapp.com/packages",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:c,hotelName:l,numberOfDays:h,numberOfNights:f,destinationCity:y,destinationCountry:D,price:P})}).then((function(e){return e.json()})).then((function(t){e.handleAddPackage(t),e.onHide()})).catch((function(e){return console.log(e)}))},children:e.isUpdate?"Update Changes":"Save Changes"})]})]}))};var E=function(e){var t=r.a.useState(e.travel?e.travel.numberOfDays:""),n=Object(p.a)(t,2),c=n[0],s=n[1],i=r.a.useState(e.travel?e.travel.numberOfNights:""),o=Object(p.a)(i,2),l=o[0],u=o[1],j=r.a.useState(e.travel?e.travel.destinationCity:""),d=Object(p.a)(j,2),h=d[0],b=d[1],m=r.a.useState(e.travel?e.travel.destinationCountry:""),O=Object(p.a)(m,2),f=O[0],g=O[1],x=r.a.useState(e.travel?e.travel.price:""),v=Object(p.a)(x,2),y=v[0],F=v[1];return Object(a.jsxs)(S.a,Object(k.a)(Object(k.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(S.a.Header,{closeButton:!0,children:Object(a.jsx)(S.a.Title,{id:"contained-modal-title-vcenter",children:"Filter Traveler Package by Destination, Hotel, Price, Days, Nights"})}),Object(a.jsx)(S.a.Body,{children:Object(a.jsxs)(N.a,{children:[Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"number",placeholder:c||"Enter number of days",onChange:function(e){return s(e.target.value)},value:c,min:"0"})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"number",placeholder:l||"Enter number of nights",onChange:function(e){return u(e.target.value)},value:l,min:"0"})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"text",placeholder:h||"Enter city",onChange:function(e){return b(e.target.value)},value:h})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"text",placeholder:f||"Enter country",onChange:function(e){return g(e.target.value)},value:f})}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"number",placeholder:y||"Enter price",onChange:function(e){return F(e.target.value)},value:y,min:"0"})})]})}),Object(a.jsxs)(S.a.Footer,{children:[Object(a.jsx)(C.a,{variant:"secondary",onClick:e.onhide,children:"Close"}),Object(a.jsx)(C.a,{variant:"primary",onClick:function(t){t.preventDefault(),fetch("https://travel-package-management.herokuapp.com/packages/filter",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({numberOfDays:c,numberOfNights:l,destinationCity:h,destinationCountry:f,price:y})}).then((function(e){return e.json()})).then((function(t){e.handleFilterPackage(t),e.onHide()})).catch((function(e){return console.log(e)}))},children:"Filter"})]})]}))},T=n(46),D=function(e){var t=e.user,n=e.addTravelPackage,c=e.filterTravelPackage,s=r.a.useState(!1),i=Object(p.a)(s,2),l=i[0],u=i[1],j=r.a.useState(!1),d=Object(p.a)(j,2),h=d[0],b=d[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E,{show:h,onHide:function(){return b(!1)},handleFilterPackage:function(e){b(!1),c(e)}}),Object(a.jsx)(F,{show:l,onHide:function(){return u(!1)},handleAddPackage:function(e){u(!1),n(e)},isUpdate:!1}),Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object(a.jsxs)("h2",{style:{color:"white"},children:["Hi! ",t.firstName]})}),Object(a.jsx)("nav",{className:"navbar",children:Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{className:"links",style:{display:"inline"},onClick:function(){return b(!0)},children:[" Filter ",Object(a.jsx)(T.b,{})]}),t&&"AGENT"===t.type&&Object(a.jsx)("li",{className:"links",style:{display:"inline"},onClick:function(){return u(!0)},children:" Add Package"}),Object(a.jsx)(o.b,{className:"links",to:"/booking/".concat(t.id),children:"Booking History"}),t&&"AGENT"===t.type&&Object(a.jsx)(o.b,{className:"links",to:"/report/".concat(t.id),children:"Travel Report"}),Object(a.jsx)(o.b,{className:"links",to:"/",children:"Log out"})]})})]})]})},w=n(27),B=n(32),I=n(56);function P(e){var t=e.users,n=e.selectedValue,c=e.setSelectedValue;return Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsxs)(g.a,{onSelect:function(e,t){c(e)},className:"m-2 ",children:[Object(a.jsx)(g.a.Toggle,{variant:"primary",id:"dropdown-basic",children:n}),Object(a.jsx)(g.a.Menu,{children:t.map((function(e){return Object(a.jsx)(g.a.Item,{eventKey:e.firstName+" "+e.lastName,children:e.firstName+" "+e.lastName},e.id)}))})]})})}var H=function(e){var t=r.a.useState([]),n=Object(p.a)(t,2),s=n[0],i=n[1],o=r.a.useState(e.travel?e.travel.name:""),l=Object(p.a)(o,1)[0],u=r.a.useState(""),j=Object(p.a)(u,2),d=j[0],h=j[1],b=Object(c.useState)("Select User"),m=Object(p.a)(b,2),O=m[0],f=m[1];return Object(c.useEffect)((function(){fetch("https://travel-package-management.herokuapp.com/users").then((function(e){return e.json()})).then((function(e){return i(e)}),(function(){f(s[0].firstName+" "+s[0].lastName)})).catch((function(e){return console.log(e)}))}),[]),Object(a.jsxs)(S.a,Object(k.a)(Object(k.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(S.a.Header,{closeButton:!0,children:Object(a.jsxs)(S.a.Title,{id:"contained-modal-title-vcenter",children:["Book ",l," Package"]})}),Object(a.jsx)(S.a.Body,{children:Object(a.jsxs)(N.a,{children:[Object(a.jsx)(P,{users:s,selectedValue:O,setSelectedValue:f}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"date",placeholder:d||"Enter number Departure Date",onChange:function(e){return h(e.target.value)},value:d})})]})}),Object(a.jsxs)(S.a.Footer,{children:[Object(a.jsx)(C.a,{variant:"secondary",onClick:function(){e.onHide()},children:"Close"}),Object(a.jsx)(C.a,{variant:"primary",onClick:function(){e.onHide(),function(){var t={departureDate:d,userId:s.find((function(e){return e.firstName+" "+e.lastName===O})).id,packageId:e.travel.id};fetch("https://travel-package-management.herokuapp.com/bookings",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}()},children:"Save"})]})]}))},G=function(e){var t=e.travel,n=e.color,c=e.updateTravelPackage,s=e.deleteTravelPackage,i=r.a.useState(!1),o=Object(p.a)(i,2),l=o[0],u=o[1],j=r.a.useState(!1),d=Object(p.a)(j,2),h=d[0],b=d[1];return Object(a.jsxs)(a.Fragment,{children:[h&&Object(a.jsx)(H,{show:h,onHide:function(){return b(!1)},travel:t}),Object(a.jsx)(F,{show:l,onHide:function(){return u(!1)},isUpdate:!0,travel:t,handleUpdatePackage:function(e){u(!1),c(e)}}),Object(a.jsxs)(w.a,{style:{width:"18rem",backgroundColor:n},children:[Object(a.jsxs)(w.a.Body,{children:[Object(a.jsxs)(w.a.Title,{children:[t.name," ",Object(a.jsxs)("span",{style:{float:"right"},children:[Object(a.jsx)(T.a,{style:{margin:"2px"},onClick:function(){u(!0)}}),Object(a.jsx)(I.a,{style:{margin:"2px"},onClick:function(){s(t.id)}})," "]})]}),Object(a.jsxs)(w.a.Text,{children:["Hotel ",t.hotelName,", ",t.destinationCity," ",t.destinationCountry]})]}),Object(a.jsxs)(B.a,{className:"list-group-flush",children:[Object(a.jsxs)(B.a.Item,{style:{backgroundColor:n},children:["Number Of Days: ",t.numberOfDays]}),Object(a.jsxs)(B.a.Item,{style:{backgroundColor:n},children:["Number Of Nights: ",t.numberOfNights]}),Object(a.jsxs)(B.a.Item,{style:{backgroundColor:n},children:["Price: ",t.price," CAD"]})]}),Object(a.jsx)(w.a.Body,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)(C.a,{variant:"primary btn-block btn-lg",style:{width:"100%"},onClick:function(){b(!0)},children:"Book Now"})})]})]})},U=function(e){e.user;var t=e.travelPackages,n=e.updateTravelPackage,c=e.deleteTravelPackage,r=["#FFD9D9","#FFD9FF","#E6D9FF","#D9E6FF","#D9F2FF","#D9FFFF","#D9FFE6"];return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"travel-packages",style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:t.map((function(e){return Object(a.jsx)(G,{travel:e,color:r[Math.floor(Math.random()*r.length)],updateTravelPackage:n,deleteTravelPackage:c},e.id)}))})})},V=function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),n=t[0],s=t[1],i=Object(l.useLocation)(),o=i.pathname.split("/"),u=o[o.length-1],j=r.a.useState(i.state||{}),d=Object(p.a)(j,2),h=d[0],b=d[1];Object(c.useEffect)((function(){fetch("https://travel-package-management.herokuapp.com/packages").then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){return console.log(e)})),h.hasOwnProperty("id")||fetch("https://travel-package-management.herokuapp.com/users/".concat(u)).then((function(e){return e.json()})).then((function(e){return b(e)})).catch((function(e){return console.log(e)}))}),[h,u]);return Object(a.jsxs)("div",{children:[Object(a.jsx)(D,{user:h,addTravelPackage:function(e){s([].concat(Object(y.a)(n),[e]))},filterTravelPackage:function(e){s(e)}}),Object(a.jsx)(U,{user:h,travelPackages:n,updateTravelPackage:function(e){var t=n.map((function(t){return t.id===e.id?e:t}));s(t)},deleteTravelPackage:function(e){fetch("https://travel-package-management.herokuapp.com/packages/".concat(e),{method:"DELETE"}).then((function(t){var a=n.filter((function(t){return t.id!==e}));s(a)})).catch((function(e){return console.log(e)}))}})]})};n(76);function L(e){var t=e.users,n=e.selectedValue,c=e.setSelectedValue,r=e.setBookings;return Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsxs)(g.a,{onSelect:function(e,n){c(e);var a=t.find((function(t){return t.firstName+" "+t.lastName===e}));a&&a.id&&fetch("https://travel-package-management.herokuapp.com/bookings/".concat(a.id)).then((function(e){return e.json()})).then((function(e){r(e)}))},className:"m-2 ",children:[Object(a.jsx)(g.a.Toggle,{variant:"primary",id:"dropdown-basic",children:n}),Object(a.jsx)(g.a.Menu,{children:t.map((function(e){return Object(a.jsx)(g.a.Item,{eventKey:e.firstName+" "+e.lastName,children:e.firstName+" "+e.lastName},e.id)}))})]})})}var M=function(e){var t=e.user,n=e.users,r=(e.bookings,e.setBookings),s=t&&t.length>0?t[0]:null,i=Object(c.useState)(n&&n.lrngth>0?n[0].firstName+" "+n[0].lastName:"Select User"),l=Object(p.a)(i,2),u=l[0],j=l[1];return Object(c.useEffect)((function(){s&&s.id&&"AGENT"!==s.type&&fetch("https://travel-package-management.herokuapp.com/bookings/".concat(s.id)).then((function(e){return e.json()})).then((function(e){r(e)}))}),[s,r]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("header",{className:"header",children:[Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(a.jsxs)("h2",{style:{color:"white"},children:["Hi! ",t&&t.length>0&&t[0].firstName]}),s&&"AGENT"===s.type&&Object(a.jsx)(L,{users:n,selectedValue:u,setSelectedValue:j,setBookings:r})]}),Object(a.jsx)("nav",{className:"navbar",children:Object(a.jsxs)("ul",{children:[s&&"AGENT"===s.type&&Object(a.jsx)(o.b,{className:"links",to:"/report/".concat(s.id),children:"Travel Report"}),Object(a.jsx)(o.b,{className:"links",to:"/home/".concat(s&&s.id),children:"Travel Booking"}),Object(a.jsx)(o.b,{className:"links",to:"/",children:"Log out"})]})})]})})};function q(e){var t=e.users,n=e.selectedValue,c=e.setSelectedValue;return Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(a.jsxs)(g.a,{onSelect:function(e,t){c(e)},className:"m-2 ",children:[Object(a.jsx)(g.a.Toggle,{variant:"primary",id:"dropdown-basic",children:n}),Object(a.jsx)(g.a.Menu,{children:t.map((function(e){return Object(a.jsx)(g.a.Item,{eventKey:e.firstName+" "+e.lastName,children:e.firstName+" "+e.lastName},e.id)}))})]})})}var A=function(e){var t=e.booking,n=e.setBookings,s=r.a.useState([]),i=Object(p.a)(s,2),o=i[0],l=i[1],u=r.a.useState(e.travel?e.travel.name:""),j=Object(p.a)(u,1)[0],d=r.a.useState(""),h=Object(p.a)(d,2),b=h[0],m=h[1],O=Object(c.useState)("Select User"),f=Object(p.a)(O,2),g=f[0],x=f[1];return Object(c.useEffect)((function(){fetch("https://travel-package-management.herokuapp.com/users").then((function(e){return e.json()})).then((function(e){return l(e)}),(function(){x(o[0].firstName+" "+o[0].lastName)})).catch((function(e){return console.log(e)}))}),[]),Object(a.jsxs)(S.a,Object(k.a)(Object(k.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(a.jsx)(S.a.Header,{closeButton:!0,children:Object(a.jsxs)(S.a.Title,{id:"contained-modal-title-vcenter",children:["Update Book ",j," Package"]})}),Object(a.jsx)(S.a.Body,{children:Object(a.jsxs)(N.a,{children:[Object(a.jsx)(q,{users:o,selectedValue:g,setSelectedValue:x}),Object(a.jsx)(N.a.Group,{controlId:"formBasicEmail",className:"m-2",children:Object(a.jsx)(N.a.Control,{type:"date",placeholder:b||"Enter number Departure Date",onChange:function(e){return m(e.target.value)},value:b})})]})}),Object(a.jsxs)(S.a.Footer,{children:[Object(a.jsx)(C.a,{variant:"secondary",onClick:function(){e.onHide(),console.log("Hi")},children:"Close"}),Object(a.jsx)(C.a,{variant:"primary",onClick:function(){e.onHide(),function(){var e={departureDate:b,userId:o.find((function(e){return e.firstName+" "+e.lastName===g})).id,packageId:t.travelPackage.id,id:t.id};fetch("https://travel-package-management.herokuapp.com/bookings",{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),n((function(t){var n=t.findIndex((function(t){return t.id===e.id}));return t[n]=e,Object(y.a)(t)}))}))}()},children:"Save"})]})]}))},R=function(e){var t=e.booking,n=e.color,c=e.setBookings,s=r.a.useState(!1),i=Object(p.a)(s,2),o=i[0],l=i[1];return Object(a.jsxs)(a.Fragment,{children:[o&&Object(a.jsx)(A,{show:o,onHide:function(){return l(!1)},booking:t,setBookings:c}),Object(a.jsxs)(w.a,{style:{width:"20rem",backgroundColor:n},children:[Object(a.jsxs)(w.a.Body,{children:[Object(a.jsxs)(w.a.Title,{children:[t.travelPackage.name," ",Object(a.jsxs)("span",{style:{float:"right"},children:[Object(a.jsx)(T.a,{style:{margin:"2px"},onClick:function(){l(!0)}}),Object(a.jsx)(I.a,{style:{margin:"2px"},onClick:function(){var e={userId:t.customer.id,packageId:t.travelPackage.id};fetch("https://travel-package-management.herokuapp.com/bookings",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(){c((function(e){return e.filter((function(e){return e.id!==t.id}))}))}))}})," "]})]}),Object(a.jsxs)(w.a.Text,{children:["Hotel ",t.travelPackage.hotelName,", ",t.travelPackage.destinationCity," ",t.travelPackage.destinationCountry]})]}),Object(a.jsxs)(B.a,{className:"list-group-flush",children:[Object(a.jsxs)(B.a.Item,{style:{backgroundColor:n},children:["Departure Date: ",t.departureDate.split("T")[0]]}),Object(a.jsxs)(B.a.Item,{style:{backgroundColor:n},children:["Booked To: ",t.customer.firstName," ",t.customer.lastName]})]})]})]})},J=function(e){var t=e.bookings,n=e.setBookings,c=["#FFD9D9","#FFD9FF","#E6D9FF","#D9E6FF","#D9F2FF","#D9FFFF","#D9FFE6"];return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"travel-packages",style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:[0===t.length&&Object(a.jsx)("h1",{children:"No Bookings"}),t.map((function(e){return Object(a.jsx)(R,{booking:e,color:c[Math.floor(Math.random()*c.length)],setBookings:n},e.id)}))]})})},K=function(){var e=Object(O.useLocation)().pathname.split("/"),t=e[e.length-1],n=Object(c.useState)([]),s=Object(p.a)(n,2),i=s[0],o=s[1],l=Object(c.useState)([]),u=Object(p.a)(l,2),j=u[0],d=u[1];return r.a.useEffect((function(){fetch("https://travel-package-management.herokuapp.com/users").then((function(e){return e.json()})).then((function(e){return d(e)})).catch((function(e){return console.log(e)}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(M,{user:j.filter((function(e){return e.id===+t})),users:j,bookings:i,setBookings:o}),Object(a.jsx)(J,{bookings:i,setBookings:o})]})},z=function(e){var t=e.travel,n=e.color;return Object(a.jsxs)(w.a,{style:{width:"18rem",backgroundColor:n},children:[Object(a.jsxs)(w.a.Body,{children:[Object(a.jsxs)(w.a.Title,{children:[t.name," ",Object(a.jsx)("span",{style:{float:"right"},children:" "})]}),Object(a.jsxs)(w.a.Text,{children:["Hotel ",t.hotelName,", ",t.destinationCity," ",t.destinationCountry]})]}),Object(a.jsxs)(B.a,{className:"list-group-flush",children:[Object(a.jsxs)(B.a.Item,{style:{backgroundColor:n},children:["Number Of Bookings: ",t.numBookings]}),Object(a.jsxs)(B.a.Item,{style:{backgroundColor:n},children:["Total Revenue: ",t.totalRevenue]})]})]})},W=function(e){var t=e.user;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("div",{children:Object(a.jsxs)("h2",{style:{color:"white"},children:["Hi! ",t.firstName]})}),Object(a.jsx)("nav",{className:"navbar",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)(o.b,{className:"links",to:"/booking",children:"Booking History"}),Object(a.jsx)(o.b,{className:"links",to:"/home/".concat(t.id),children:"Travel Booking"}),Object(a.jsx)(o.b,{className:"links",to:"/",children:"Log out"})]})})]})})},Y=function(){var e=r.a.useState([]),t=Object(p.a)(e,2),n=t[0],c=t[1],s=Object(O.useLocation)().pathname.split("/"),i=s[s.length-1],o=r.a.useState({}),l=Object(p.a)(o,2),u=l[0],j=l[1];r.a.useEffect((function(){fetch("https://travel-package-management.herokuapp.com/packages/reports").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)})),fetch("https://travel-package-management.herokuapp.com/users/".concat(i)).then((function(e){return e.json()})).then((function(e){return j(e)})).catch((function(e){return console.log(e)}))}),[i]);var d=["#FFD9D9","#FFD9FF","#E6D9FF","#D9E6FF","#D9F2FF","#D9FFFF","#D9FFE6"];return Object(a.jsxs)("div",{children:[Object(a.jsx)(W,{user:u}),Object(a.jsx)("div",{className:"travel-packages",style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap"},children:n.map((function(e,t){return Object(a.jsx)(z,{travel:e,color:d[Math.floor(Math.random()*d.length)]},t)}))})]})};var Q=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.Switch,{children:[Object(a.jsxs)(l.Route,{exact:!0,path:"/",children:[Object(a.jsx)(u,{}),Object(a.jsx)(j,{}),Object(a.jsx)(m,{})]}),Object(a.jsxs)(l.Route,{path:"/login",children:[Object(a.jsx)(u,{}),Object(a.jsx)(f,{})]}),Object(a.jsxs)(l.Route,{path:"/signup",children:[Object(a.jsx)(u,{}),Object(a.jsx)(x,{})]}),Object(a.jsx)(l.Route,{path:"/home",children:Object(a.jsx)(V,{})}),Object(a.jsx)(l.Route,{path:"/booking",children:Object(a.jsx)(K,{})}),Object(a.jsx)(l.Route,{path:"/report/:id",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(l.Route,{path:"*",children:Object(a.jsx)(v,{})})]})})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Q,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.08e7cd66.chunk.js.map